{"name":"JSS","tagline":"Javascript Style Sheet","body":"JSS - Javascript Style Sheet\r\n===\r\n\r\n# Introdução\r\nJSS é um framework javascript, que trabalha com CSS. Seguindo o modelo já bem sucedido de outros frameworks como SASS e LESS, a JSS traz também a alternativas para se dar um maior poder ao CSS.\r\n## Diferencial\r\nA grande diferença da JSS em comparação aos outros frameworks, é que ela não introduz uma nova linguagem, e nem precisa de um compilador para gerar as folhas de estilo, é todo o poder do javascript agora escrevendo CSS de maneira simples e prática. Além disso, JSS introduz o conceito de tratamento de imagens, onde é possível utilizar de diversas funções para tratar as cores de uma imagem. Isso é muito eficiente para bibliotecas de ícones, é possível modificar a cor dos ícones com apenas alguns métodos.\r\n## O Básico\r\nO objeto JSS principal, deve invocar a propriedade `init`, passando um objeto JSON que contenha toda a instrução:\r\n\r\n```js\r\nvar build = function(){\r\n\treturn new JSS({\r\n    \t\tinit: {\r\n      \t\t\t'#divID':{\r\n        \t\t\t'border': {\r\n\t\t  \t\t\t\t'&': '#ddd solid 1px',\r\n\t\t  \t\t\t\t'top':{\r\n\t\t    \t\t\t\t\t'left':{\r\n\t\t      \t\t\t\t\t\t'radius': 35\r\n\t\t    \t\t\t\t\t}\r\n\t\t  \t\t\t\t},\r\n\t\t\t  \t\t\t'bottom':{\r\n\t\t\t    \t\t\t\t'left':{\r\n\t\t\t      \t\t\t\t\t'radius': 35\r\n\t\t\t    \t\t\t\t}\r\n\t\t\t  \t\t\t}\r\n\t\t\t\t}\r\n      \t\t}\r\n    \t}\r\n  \t});\r\n}\r\n```\r\nA propriedade `init` é que ficará responsável por fazer o parser do objeto JSON. Porem a maneira mais eficaz não é passar diretamente o objeto JSON no `init`, e sim criar uma objeto global com uma função de build e outra de style:\r\n```js\r\nvar CSS = {\r\n\t\r\n\tblack: '#000',\r\n\twhite: '#fff',\r\n\t\r\n\tstyle: function(){\r\n\t\t\r\n\t\t\r\n\t\treturn {\r\n\t\t\t'.super-head': {\r\n\t\t\t\t'background': '#-linear-gradient(top, \\\r\n\t\t\t\t\t\t\t\t'+JSS.Ligthen(this.black, 20).alpha(.8)+' 0%, \\\r\n\t\t\t\t\t\t\t\t'+JSS.Ligthen(this.black, 50).alpha(0)+' 100%)',\r\n\t\t\t\t'height': 200,\r\n\t\t\t\t'width': '100%',\r\n\t\t\t\t'overflow': 'hidden',\r\n\t\t\t\t'& > header':{\r\n\t\t\t\t\t'& > img':{\r\n\t\t\t\t\t\t'position': 'absolute',\r\n\t\t\t\t\t\t'left': 'calc(100% - 254px)',\r\n\t\t\t\t\t\t'z-index': '100',\r\n\t\t\t\t\t\t'top': 10,\r\n\t\t\t\t\t\t'background': this.white,\r\n\t\t\t\t\t\t'padding-left': 10,\r\n\t\t\t\t\t\t'border': {\r\n\t\t\t\t\t\t\t'&': '#ddd solid 1px',\r\n\t\t\t\t\t\t\t'top':{\r\n\t\t\t\t\t\t\t\t'left':{\r\n\t\t\t\t\t\t\t\t\t'radius': 35\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t'bottom':{\r\n\t\t\t\t\t\t\t\t'left':{\r\n\t\t\t\t\t\t\t\t\t'radius': 35\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t'box-shadow': '#333 3px 5px 3px',\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tbuild: function(){\r\n\t\treturn new JSS({\r\n\t\t\tinit: this.style()\r\n\t\t})\r\n\t}\r\n}\r\nCSS.build();\r\n```\r\n\r\nDessa maneira é possível criar propriedades no objeto CSS e chama-las no método style por meio do scopo local `this`.\r\n\r\n## Seletores e propriedades aninhadas\r\nEm JSS tanto os seletores quanto as propriedades podem ser aninhadas. Para seletores é usado o caractere `&` para aninha-los, já com as propriedades não é necessário:\r\n```js\r\n'table':{\r\n\t'& tr':{\r\n\t\t'padding':{\r\n\t\t\t'top': 5,\r\n\t\t\t'bottom': 5\r\n\t\t},\r\n\t\t'& td':{\r\n\t\t\t'&(1)':{\t\r\n\t\t\t\t'font-weight': 'bold'\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t'border': {\r\n\t\t'&': '#ccc solid 1px',\r\n\t\t'radius': 5\r\n\t}\r\n}\r\n/*\r\n * Saida:\r\n * table {\r\n * \tborder: '#ccc solid 1px';\r\n * \tborder-radius: 5px;\r\n * }\r\n * \r\n * table tr {\r\n * \tpadding-top: 5px;\r\n * \tpadding-bottom: 5px;\r\n * }\r\n * \r\n * table tr td:nth-child(1){\r\n * \tfont-weight: bold;\r\n * }\r\n */\r\n``` \r\nÉ importante entender como é feito o parser dos objetos em JSS, todo aninhamento, seja ele de seletor ou de propriedade, é feito por meio de concatenação de strings, dessa forma deve se entender onde e quando aplicar espaços ou não após o `&`. Veja o exemplo a seguir:\r\n\r\n```js\r\n'table':{\r\n\t'&tr':{\r\n\t\t...\r\n\t}\r\n}\r\n```\r\nObservem que o seletor aninhado `&tr` não tem espaço após o `&`, isso geraria um seletor `tabletr{...}` que não representaria a real intenção do usuário. Para que a JSS gerasse um seletor corretamente, deve-se aplicar o espaço após o `&` dessa maneira `& tr` concatenaria com `table` dessa forma: `\"table\"+\" tr\"`, que dessa vez geraria o seletor esperado: `table tr{...}`.\r\nEm propriedades, o uso do caracter `&` sozinho, faz com que o valor passado se aplique à propriedade a cima de forma única. No exemplo\r\n\r\n```js\r\n'border': {\r\n\t'&': '#ccc solid 1px'\r\n}\r\n```\r\nGera a saída: `border: #ccc solid 1px`.\r\n\r\n```js\r\n'border': {\r\n\t'radius': 5\r\n}\r\n```\r\nGera a saída: `border-radius: 5px`\r\n\r\nTodo inteiro passado como valor é convertido para a unidade de pexel `px`, dessa maneira o exemplo a cima `'radius': 5` é convertido em `5px`, para unidades diferentes é necessario que se passe o valor por string: `'radius': '1em'`. em propriedades que não são relacionadas a medida, como é o caso da propriedade `z-index` o valor desse explicitamente ser passado por string, para que não seja convertido em `px`, dessa forma `'z-index': '2'` é convertido da maneira esperada.\r\n\r\n## Funções\r\n\r\nEm JSS, também é possivel importar funções para seu objeto de estilo principal por meio da propriedade `'$import': [this.func()]`, as funções devem retornar um objeto JSON de estilo ou um array de objetos.\r\n\r\n```js\r\nbordaJanela: function(rounded, shadow){\r\n\tvar estilo = [];\r\n\t\r\n\tif(rounded === true){\r\n\t\testilo.push({'border-radius': 5});\r\n\t}\r\n\tif(shadow === true){\r\n\t\testilo.push({'box-shadow': '#000 3px 3px 5px'});\r\n\t}\r\n\t\r\n\treturn estilo;\r\n\t\r\n},\r\n\r\nstyle: function(){\r\n\treturn {\r\n\t\t'.window':{\r\n\t\t\t'$import': [this.bordaJanela(true, true)]\r\n\t\t}\r\n\t}\r\n}\r\n```\t\r\nMais de uma função também pode ser chamada por `$import` pasando o array: `'$import': [this.func1(), this.func2, ...]`.\r\n\r\n## Cores\r\n\r\nA Subclasse `JSS.Color` traz diversas funções para manipulação de cores, para usar a classe JSS.Color é preciso inicia-la passando uma cor ao construtor, com qualquer formato de cor aceita pela CSS.\r\n\r\n```js\r\nnew JSS.Color(\"red\");\r\nnew JSS.Color(\"#f00\");\r\nnew JSS.Color(\"#ff0000\");\r\nnew JSS.Color(\"rgb(255,0,0)\");\r\nnew JSS.Color(\"rgba(255,0,0,1)\");\r\nnew JSS.Color(\"hsl(0,100,50)\");\r\nnew JSS.Color(\"hsla(0,100,50,1)\");\r\n```\t\r\nTodos os formatos a cima resultam na cor vermelha. Após o objeto criado, é possível manipular todos os canais de cores, mesmo que não corresponda ao formato original.\r\n\r\n```js\r\nvar vermelho = new JSS.Color(\"red\");\r\nvermelho.hue(20).green(30).saturation(20).alpha(.4).ligth(10).blue(20);\r\n```\t\r\nOutras funções que de manipulação de cor também podem ser aplicadas\r\n\r\n```js\r\nvar vermelho = new JSS.Color(\"red\");\r\nvermelho.desaturation(20).dark(20).multiply(\"blue\").screen(\"#527\").overlay(\"rgb(23,53,132)\").mix(vermelho, 20);\r\n```\t\r\nTambém é possivel utilizar o método `getDistance(color)` da CLasse `JSS.Color`, que retornará um valor representado a qual diferente(distante) uma cor é da outra.\r\n\r\n```js\r\nvar vermelho = new JSS.Color(\"red\");\r\nvermelho.getDistance(\"blue\"); // Que resultará no valor 360.62445840513925;\r\nvermelho.getDistance(\"red\");  // Que resultará no valor 0;\r\n```\t\r\nTambém é possivel iniciar as cores pelos metodos staticos.\r\n\r\n```js\r\nvar vermelho = JSS.Ligthen(\"red\", 30);\r\n// E depois se quiser ainda poderá continuar a mexer em seus canais.\r\nvermelho.alpha(.3);\r\n// Ou pela forma abreviada.\r\nJSS.Ligthen(\"red\", 30).alpha(.3);\r\n```\t\r\nAs funções estaticas de Cores são:\r\n\r\n```js\r\nJSS.Ligthen(color, percentLigth);\r\nJSS.Darken(color, percentDark);\r\nJSS.GetDistanceColor(color1, color2);\r\nJSS.Mix(color1, color2, weight);\r\nJSS.Multiply(color1, color2);\r\nJSS.SCreen(color1, color2);\r\nJSS.Overlay(color1, color2);\r\nJSS.Defference(color1, color2);\r\nJSS.Saturate(color, percent);\r\nJSS.Desaturate(color, percent);\r\n```\t\r\n## CSS Hack\r\n\r\nAo adicionar os caracteres `#-` ao inicio de uma propriedade ou valor, JSS interpretará esses caracteres como um CSS hack, como no exemplo a seguir:\r\n\r\n```js\r\n'.gradient': {\r\n\t'background': '#-linear-gradient(top, \\\r\n\t\t\t\t\t'+JSS.Ligthen(this.black, 20).alpha(.8)+' 0%, \\\r\n\t\t\t\t\t'+JSS.Ligthen(this.black, 50).alpha(0)+' 100%)',\r\n}\r\n```\t\r\nSaida:\r\n\r\n```css\r\n.gradient {\r\n\tbackground: linear-gradient(top, rgba(51,51,51,0.8) 0%, rgba(128,128,128,0) 100%);\r\n\tbackground: -o-linear-gradient(top, rgba(51,51,51,0.8) 0%, rgba(128,128,128,0) 100%);\r\n\tbackground: -ms-linear-gradient(top, rgba(51,51,51,0.8) 0%, rgba(128,128,128,0) 100%);\r\n\tbackground: -moz-linear-gradient(top, rgba(51,51,51,0.8) 0%, rgba(128,128,128,0) 100%);\r\n\tbackground: -khtml-linear-gradient(top, rgba(51,51,51,0.8) 0%, rgba(128,128,128,0) 100%);\r\n\tbackground: -webkit-linear-gradient(top, rgba(51,51,51,0.8) 0%, rgba(128,128,128,0) 100%);\r\n}\r\n```\t\r\n## Imagens\r\n\r\nA JSS introduz o conceito de tratamento de imagens, com isso é possivel utilizar de todos os metodos de cores para se alterar as cores da imagem, isso é muito util para bibliotecas de ícones. Esta classe deve ser utilizad com cuidado e para imagens não muito grandes, pois compromete a performance de carregamento de su página.\r\nPara tartar as imagens usamos a subcçasse `JSS.Image`, ao usar dessa classe o metodo `build` de seu Layout deve ser carregado após no `onload` de sua página.\r\n\r\nVeja um exemplo completo de como criar uma biblioteca de ícones de duas cores diferentes apartir de um Sprite.\r\n\r\nfigure_7.png\r\n> ![figure_7.png](https://github.com/jaykon-w/JSS/blob/master/Exemplos/lib_icon/figure_7.png?raw=true)\r\n\r\n\r\nLayout.js\r\n```js\r\nvar CSS = {\r\n\t\r\n\ticones: [\r\n\t\tnew JSS.Image('figure_7.png')\r\n\t],\r\n\r\n\tmakeIconOnColor: function(func, value, colorName){\r\n\t\tvar iconClass = {};\r\n\t\t\r\n\t\tvar Icons = this.icones[0];\r\n\t\t\r\n\t\ticonClass['&[class~=icon-'+colorName+']'] = {\r\n\t\t\t'background': 'url(\"'+Icons[func](value)+'\")'\r\n\t\t}\r\n\t\t\r\n\t\treturn iconClass;\r\n\t},\r\n\t\r\n\ticonCrop: function(){\r\n\t\tvar span = 5,\r\n\t\t\tv = 5,\r\n\t\t\th = 20,\r\n\t\t\tsize = 24,\r\n\t\t\ticons = {},\r\n\t\t\tinc = 0;\r\n\t\t\r\n\t\tfor(a = 0; a <= v; a++){\t\r\n\t\t\tfor(i = 0; i < h; i++){\r\n\t\t\t\ticons['&.icon-'+inc] = {\r\n\t\t\t\t\t'background-position': {\r\n\t\t\t\t\t\tx: ~((i*size)+span),\r\n\t\t\t\t\t\ty: ~((a*size)+span)\r\n\t\t\t\t\t},\r\n\t\t\t\t\twidth: size,\r\n\t\t\t\t\theight: size,\r\n\t\t\t\t\tdisplay: 'block'\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tinc++;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn icons;\r\n\t},\r\n\t\r\n\tstyle: function(){\r\n\t\treturn {\r\n\t\t\t'body':{\r\n\t\t\t\tmargin: 0\r\n\t\t\t},\r\n\t\t\t'$import': [this.makeIconOnColor('red', 255, 'red'), this.makeIconOnColor('green', 255, 'yellow'), this.iconCrop()],\r\n\t\t\t'.left':{\r\n\t\t\t\tfloat: 'left'\r\n\t\t\t},\r\n\t\t\t'.clear':{\r\n\t\t\t\tclear: 'both'\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tbuild: function(){\r\n\t\treturn new JSS({\r\n\t\t\tinit: this.style()\r\n\t\t})\r\n\t}\r\n\t\r\n};\r\n```\r\nicon-sample.html\r\n```html\r\n<html>\r\n<head>\r\n\t<script src=\"../../JSS.js\"></script>\r\n\t<script src=\"Layout.js\"></script>\r\n</head>\r\n<body onload=\"CSS.build()\">\r\n\t<i class=\"icon-red icon-0 left\"></i> <i class=\"icon-yellow icon-0 left\"></i>\r\n\t<div class=\"clear\"></div>\r\n\t<i class=\"icon-red icon-1 left\"></i> <i class=\"icon-yellow icon-1 left\"></i>\r\n\t<div class=\"clear\"></div>\r\n\t<i class=\"icon-red icon-2 left\"></i> <i class=\"icon-yellow icon-2 left\"></i>\r\n\t<div class=\"clear\"></div>\r\n\t<i class=\"icon-red icon-3 left\"></i> <i class=\"icon-yellow icon-3 left\"></i>\r\n\t<div class=\"clear\"></div>\r\n\t<i class=\"icon-red icon-4 left\"></i> <i class=\"icon-yellow icon-4 left\"></i>\r\n\t<div class=\"clear\"></div>\r\n\t<i class=\"icon-red icon-5 left\"></i> <i class=\"icon-yellow icon-5 left\"></i>\r\n\t<div class=\"clear\"></div>\r\n\t...\r\n\t...\r\n\t...\r\n\t<div class=\"clear\"></div>\r\n\t<i class=\"icon-red icon-118 left\"></i> <i class=\"icon-yellow icon-118 left\"></i>\r\n\t<div class=\"clear\"></div>\r\n\t<i class=\"icon-red icon-119 left\"></i> <i class=\"icon-yellow icon-119 left\"></i>\r\n\t<div class=\"clear\"></div>\r\n\t<div>Esses São alguns dos icones reenderizados pela JSS</div>\r\n</body>\r\n</html>\r\n```","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}